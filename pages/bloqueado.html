<!DOCTYPE html>

<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acesso Bloqueado</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f6fa;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: #2c3e50;
    }
    .container {
      text-align: center;
      padding: 30px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
      max-width: 420px;
    }
    .logo {
      max-width: 100%;
      height: auto;
      margin-bottom: 15px;
      border-radius: 8px;
    }
    .icon-alerta-svg {
      margin: 15px auto;
      animation: blink 2s infinite;
    }
    @keyframes blink {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0; }
    }
    h1 {
      font-size: 1.8rem;
      color: #e74c3c;
      margin-bottom: 10px;
    }
    p {
      font-size: 1rem;
      margin-bottom: 20px;
      color: #555;
    }
    #timer {
      font-weight: bold;
      color: #e67e22;
      margin-bottom: 20px;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      background: #3498db;
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #2980b9;
    }
  </style>
</head>
<body>
  <div class="container">
    <img class="logo" src="https://media.licdn.com/dms/image/v2/D4E16AQEUytzqhs0Y6A/profile-displaybackgroundimage-shrink_350_1400/profile-displaybackgroundimage-shrink_350_1400/0/1683674799395?e=1759968000&v=beta&t=7hnnOollL4pNghNs1Y2B_MfcN5Kb-FMQokAhTCYwcWU" alt="Logo">


<div id="icon-alerta-svg" class="icon-alerta-svg" role="img" aria-label="Alerta">
  <svg viewBox="0 0 64 64" width="64" height="64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
    <circle cx="32" cy="32" r="30" fill="#fff" stroke="#e63946" stroke-width="4"></circle>
    <rect x="30" y="18" width="4" height="22" fill="#e63946"></rect>
    <circle cx="32" cy="46" r="3" fill="#e63946"></circle>
  </svg>
</div>

<h1 id="titulo">Acesso bloqueado</h1>
<p id="mensagem">Motivo indefinido.</p>
<p id="timer"></p>
<button onclick="window.location.href='../index.html'">Voltar ao login</button>

  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const params = new URLSearchParams(window.location.search);
  const reason = params.get('reason') || 'indefinido';

  const titulo = document.getElementById('titulo');
  const mensagem = document.getElementById('mensagem');
  const timerEl = document.getElementById('timer');
  const iconEl = document.getElementById('icon-alerta-svg').querySelector('svg');

  let timeoutSegundos = 0;

  // Reset estilo do ícone
  iconEl.style.stroke = "#e63946";
  iconEl.style.fill = "#fff";

  switch(reason) {
    case 'sessao-expirada':
      mensagem.textContent = "Sua sessão expirou.";
      titulo.textContent = "Sessão Expirada";
      iconEl.style.stroke = "#f39c12"; // laranja
      break;
    case 'tentativas-excedidas':
      mensagem.textContent = "Excesso de tentativas de login. Aguarde antes de tentar novamente.";
      titulo.textContent = "Login Bloqueado Temporariamente";
      timeoutSegundos = 60;
      iconEl.style.stroke = "#e74c3c"; // vermelho
      break;
    case 'local-nao-permitido':
      mensagem.textContent = "Localização não permitida.";
      titulo.textContent = "Acesso Negado";
      iconEl.style.stroke = "#3498db"; // azul
      break;
    case 'voucher-encerrado':
      mensagem.textContent = "Voucher encerrado.";
      titulo.textContent = "Voucher Inválido";
      iconEl.style.stroke = "#8e44ad"; // roxo
      break;
    default:
      mensagem.textContent = "Motivo indefinido.";
      titulo.textContent = "Acesso Bloqueado";
  }

  if (timeoutSegundos > 0) {
    let restante = timeoutSegundos;
    timerEl.textContent = `Aguarde ${restante}s`;

    const interval = setInterval(() => {
      restante--;
      timerEl.textContent = `Aguarde ${restante}s`;
      if (restante <= 0) {
        clearInterval(interval);
        timerEl.textContent = "";
      }
    }, 1000);
  }
});

</script>


</body>
</html>

